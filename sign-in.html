<!DOCTYPE html>
<html>
    <head>
        <title>Choose your account</title>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <style id="common">
            @font-face {
                font-family: 'SegoeUI';
                src: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/fonts/segoeui.WOFF);
                font-weight: normal;
            }

            @font-face {
                font-family: 'SegoeUI';
                src: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/fonts/segoeui_bold.WOFF);
                font-weight: bold;
            }

            #AmazonExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/amazon.svg);
            }

            #AmazonExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/amazon.svg);
            }

            #FacebookExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/facebook.svg);
            }

            #FacebookExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/facebook.svg);
            }

            #GitHubExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/github.svg);
            }

            #GitHubExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/github.svg);
            }

            #AppleExchange,#AppleManagedExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/apple.svg);
            }

            #AppleExchange:hover,#AppleManagedExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/apple.svg);
            }

            #GoogleExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/google.svg);
            }

            #GoogleExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/google.svg);
            }

            #LinkedInExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/linkedin.svg);
            }

            #LinkedInExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/linkedin.svg);
            }

            #MicrosoftAccountExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/microsoft.svg);
            }

            #MicrosoftAccountExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/microsoft.svg);
            }

            #QQExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/qq.svg);
            }

            #QQExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/qq.svg);
            }

            #TwitterExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/twitter.svg);
            }

            #TwitterExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/twitter.svg);
            }

            #WeChatExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/wechat.svg);
            }

            #WeChatExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/wechat.svg);
            }

            #WeiboExchange {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/colored/weibo.svg);
            }

            #WeiboExchange:hover {
                background-image: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/idp_logos/white/weibo.svg);
            }

            .buttons #cancel:before {
                content: url(https://sojosearchappdev.b2clogin.com/static/tenant/templates/images/left-arrow.svg);
            }
            .tos-container {
                margin: 20px 0;
                text-align: left;
            }
            
            .tos-checkbox {
                margin-right: 10px;
            }
            
            .tos-label {
                display: inline-block;
                font-size: 14px;
                color: #666;
            }
            
            .tos-link {
                color: #0067b8;
                text-decoration: underline;
                cursor: pointer;
            }
            
            .tos-modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                z-index: 1000;
            }
            
            .tos-modal-content {
                position: relative;
                background: #fff;
                margin: 10% auto;
                padding: 20px;
                width: 70%;
                max-width: 700px;
                max-height: 70vh;
                overflow-y: auto;
                border-radius: 4px;
            }
            
            .tos-modal-close {
                position: absolute;
                right: 20px;
                top: 20px;
                font-size: 24px;
                cursor: pointer;
            }
            
            /* Disable sign in button when TOS not accepted */
            .buttons button[disabled] {
                opacity: 0.6;
                cursor: not-allowed;
            }
        </style>
    </head>
    <body>
        <!-- Preserve existing background branding -->
        <div id="background_branding_container" data-tenant-branding-background-color="true">
            <img data-tenant-branding-background="true" src="https://sojosearchappdev.b2clogin.com/static/tenant/templates/backgrounds/4-2.png" alt="Background Image"/>
        </div>
        
        <div class="container unified_container" role="presentation">
            <div class="row">
                <div class="col-lg-6">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <img class="companyLogo" data-tenant-branding-logo="true" src="https://sojosearchappdev.b2clogin.com/static/tenant/templates/images/logo.svg" alt="Company Logo">
                            <div id="api" role="main">
                                <!-- Add TOS checkbox before the sign in button -->
                                <div class="tos-container">
                                    <input type="checkbox" id="tosCheckbox" class="tos-checkbox">
                                    <label for="tosCheckbox" class="tos-label">
                                        I agree to the <span class="tos-link" onclick="showTosModal()">Terms of Service</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add TOS Modal -->
        <div id="tosModal" class="tos-modal">
            <div class="tos-modal-content">
                <span class="tos-modal-close" onclick="hideTosModal()">&times;</span>
                <h2>Terms of Service</h2>
                <div class="tos-content">
                    <h3>1. Acceptance of Terms</h3>
                    <p>By accessing and using this service, you accept and agree to be bound by the terms and provision of this agreement.</p>
                    
                    <h3>2. Use License</h3>
                    <p>Permission is granted to temporarily access the service for personal, non-commercial transitory viewing only.</p>
                    
                    <h3>3. Disclaimer</h3>
                    <p>The materials on this service are provided on an 'as is' basis. We make no warranties, expressed or implied, and hereby disclaim and negate all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.</p>
                    
                    <h3>4. Limitations</h3>
                    <p>In no event shall we or our suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on our service.</p>
                </div>
            </div>
        </div>

        <script>
            // Add JavaScript for TOS functionality
            document.addEventListener('DOMContentLoaded', function() {
                // Find the sign in button and disable it initially
                const signInButton = document.querySelector('.buttons button');
                if (signInButton) {
                    signInButton.disabled = true;
                }

                // Add checkbox listener
                const tosCheckbox = document.getElementById('tosCheckbox');
                if (tosCheckbox) {
                    tosCheckbox.addEventListener('change', function() {
                        if (signInButton) {
                            signInButton.disabled = !this.checked;
                        }
                    });
                }
            });

            // Modal functions
            function showTosModal() {
                document.getElementById('tosModal').style.display = 'block';
            }

            function hideTosModal() {
                document.getElementById('tosModal').style.display = 'none';
            }

            // Close modal when clicking outside
            window.onclick = function(event) {
                const modal = document.getElementById('tosModal');
                if (event.target == modal) {
                    hideTosModal();
                }
            }
        </script>
    </body>
</html>
